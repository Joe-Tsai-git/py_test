2022-11-27 21:34:06,507 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['facts', 'interfaces']} on 2 hosts
2022-11-27 21:36:27,254 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['facts', 'interfaces_ip']} on 2 hosts
2022-11-27 21:41:28,458 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh clock'} on 2 hosts
2022-11-27 21:41:52,245 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh clock'} on 2 hosts
2022-11-27 21:54:49,444 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2022-11-27 21:56:28,201 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2022-11-27 21:56:28,207 - nornir.core.task -    ERROR -      start() - Host 'SW3': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/root/venv3/lib64/python3.9/site-packages/netmiko/base_connection.py", line 1046, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/root/venv3/lib64/python3.9/site-packages/paramiko/client.py", line 381, in connect
    raise NoValidConnectionsError(errors)
paramiko.ssh_exception.NoValidConnectionsError: [Errno None] Unable to connect to port 22 on 10.0.2.23

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/root/venv3/lib64/python3.9/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/root/venv3/lib64/python3.9/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/root/venv3/lib64/python3.9/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/root/venv3/lib64/python3.9/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/root/venv3/lib64/python3.9/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/root/venv3/lib64/python3.9/site-packages/netmiko/ssh_dispatcher.py", line 365, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/root/venv3/lib64/python3.9/site-packages/netmiko/base_connection.py", line 439, in __init__
    self._open()
  File "/root/venv3/lib64/python3.9/site-packages/netmiko/base_connection.py", line 444, in _open
    self.establish_connection()
  File "/root/venv3/lib64/python3.9/site-packages/netmiko/base_connection.py", line 1068, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_ios 10.0.2.23:22



2022-11-27 21:56:28,208 - nornir.core.task -    ERROR -      start() - Host 'SW4': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/root/venv3/lib64/python3.9/site-packages/netmiko/base_connection.py", line 1046, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/root/venv3/lib64/python3.9/site-packages/paramiko/client.py", line 381, in connect
    raise NoValidConnectionsError(errors)
paramiko.ssh_exception.NoValidConnectionsError: [Errno None] Unable to connect to port 22 on 10.0.2.24

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/root/venv3/lib64/python3.9/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/root/venv3/lib64/python3.9/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/root/venv3/lib64/python3.9/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/root/venv3/lib64/python3.9/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/root/venv3/lib64/python3.9/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/root/venv3/lib64/python3.9/site-packages/netmiko/ssh_dispatcher.py", line 365, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/root/venv3/lib64/python3.9/site-packages/netmiko/base_connection.py", line 439, in __init__
    self._open()
  File "/root/venv3/lib64/python3.9/site-packages/netmiko/base_connection.py", line 444, in _open
    self.establish_connection()
  File "/root/venv3/lib64/python3.9/site-packages/netmiko/base_connection.py", line 1068, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_ios 10.0.2.24:22



2022-11-27 21:59:30,113 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2022-11-27 22:00:49,399 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2022-11-27 22:01:04,595 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2022-11-27 22:01:19,554 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2022-11-27 22:36:09,164 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2022-11-27 22:44:26,144 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip arp'} on 2 hosts
2022-11-27 22:45:01,174 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip arp'} on 2 hosts
2022-11-27 22:47:59,351 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip arp'} on 1 hosts
2022-11-27 22:52:07,454 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip arp'} on 3 hosts
2022-11-28 08:45:56,642 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip arp'} on 3 hosts
2022-11-28 08:46:29,553 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip arp'} on 3 hosts
2022-11-28 17:23:34,952 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip arp'} on 3 hosts
2022-11-30 11:06:16,112 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip arp'} on 3 hosts
2022-12-02 11:13:20,096 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip arp'} on 3 hosts
2022-12-02 11:13:27,071 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip arp'} on 3 hosts
2022-12-02 11:40:09,658 -  nornir.core -     INFO -        run() - Running task 'config' with args {} on 4 hosts
2022-12-02 11:40:09,667 - nornir.core.task -    ERROR -      start() - Host 'SW2': task 'config' failed with traceback:
Traceback (most recent call last):
  File "/root/venv3/lib64/python3.9/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/root/py/py_test/nornir6.py", line 8, in config
    cisco.run(task_context=netmiko_send_config, config_file='commands.cfg')
TypeError: run() missing 1 required positional argument: 'task'

2022-12-02 11:40:09,669 - nornir.core.task -    ERROR -      start() - Host 'SW3': task 'config' failed with traceback:
Traceback (most recent call last):
  File "/root/venv3/lib64/python3.9/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/root/py/py_test/nornir6.py", line 8, in config
    cisco.run(task_context=netmiko_send_config, config_file='commands.cfg')
TypeError: run() missing 1 required positional argument: 'task'

2022-12-02 11:40:09,669 - nornir.core.task -    ERROR -      start() - Host 'SW4': task 'config' failed with traceback:
Traceback (most recent call last):
  File "/root/venv3/lib64/python3.9/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/root/py/py_test/nornir6.py", line 8, in config
    cisco.run(task_context=netmiko_send_config, config_file='commands.cfg')
TypeError: run() missing 1 required positional argument: 'task'

2022-12-02 11:40:09,669 - nornir.core.task -    ERROR -      start() - Host 'SW1': task 'config' failed with traceback:
Traceback (most recent call last):
  File "/root/venv3/lib64/python3.9/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/root/py/py_test/nornir6.py", line 8, in config
    cisco.run(task_context=netmiko_send_config, config_file='commands.cfg')
TypeError: run() missing 1 required positional argument: 'task'

2022-12-02 11:40:28,794 -  nornir.core -     INFO -        run() - Running task 'config' with args {} on 4 hosts
