    scrapli_conn = task.host.get_connection("scrapli", task.nornir.config)
  File "/root/venv3/lib64/python3.9/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/root/venv3/lib64/python3.9/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/root/venv3/lib64/python3.9/site-packages/nornir_scrapli/connection.py", line 105, in open
    connection.open()
  File "/root/venv3/lib64/python3.9/site-packages/scrapli/driver/base/sync_driver.py", line 88, in open
    self.channel.channel_authenticate_ssh(
  File "/root/venv3/lib64/python3.9/site-packages/scrapli/decorators.py", line 216, in decorate
    return _multiprocessing_timeout(
  File "/root/venv3/lib64/python3.9/site-packages/scrapli/decorators.py", line 113, in _multiprocessing_timeout
    return future.result()
  File "/usr/lib64/python3.9/concurrent/futures/_base.py", line 439, in result
    return self.__get_result()
  File "/usr/lib64/python3.9/concurrent/futures/_base.py", line 391, in __get_result
    raise self._exception
  File "/usr/lib64/python3.9/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/root/venv3/lib64/python3.9/site-packages/scrapli/channel/sync_channel.py", line 287, in channel_authenticate_ssh
    buf = self.read()
  File "/root/venv3/lib64/python3.9/site-packages/scrapli/channel/sync_channel.py", line 69, in read
    buf = self.transport.read()
  File "/root/venv3/lib64/python3.9/site-packages/scrapli/decorators.py", line 216, in decorate
    return _multiprocessing_timeout(
  File "/root/venv3/lib64/python3.9/site-packages/scrapli/decorators.py", line 113, in _multiprocessing_timeout
    return future.result()
  File "/usr/lib64/python3.9/concurrent/futures/_base.py", line 439, in result
    return self.__get_result()
  File "/usr/lib64/python3.9/concurrent/futures/_base.py", line 391, in __get_result
    raise self._exception
  File "/usr/lib64/python3.9/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/root/venv3/lib64/python3.9/site-packages/scrapli/transport/plugins/system/transport.py", line 165, in read
    raise ScrapliConnectionError(msg) from exc
scrapli.exceptions.ScrapliConnectionError: encountered EOF reading from transport; typically means the device closed the connection

2022-12-02 19:07:58,958 - nornir.core.task -    ERROR -      start() - Host 'SW2': task 'get_prompt' failed with traceback:
Traceback (most recent call last):
  File "/root/venv3/lib64/python3.9/site-packages/scrapli/transport/plugins/system/ptyprocess.py", line 486, in read
    s = self.fileobj.read1(size)
OSError: [Errno 5] Input/output error

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/root/venv3/lib64/python3.9/site-packages/scrapli/transport/plugins/system/transport.py", line 158, in read
    buf = self.session.read(65535)
  File "/root/venv3/lib64/python3.9/site-packages/scrapli/transport/plugins/system/ptyprocess.py", line 491, in read
    raise EOFError("End Of File (EOF). Exception style platform.")
EOFError: End Of File (EOF). Exception style platform.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/venv3/lib64/python3.9/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/root/venv3/lib64/python3.9/site-packages/nornir_scrapli/tasks/core/get_prompt.py", line 19, in get_prompt
    scrapli_conn = task.host.get_connection("scrapli", task.nornir.config)
  File "/root/venv3/lib64/python3.9/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/root/venv3/lib64/python3.9/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/root/venv3/lib64/python3.9/site-packages/nornir_scrapli/connection.py", line 105, in open
    connection.open()
  File "/root/venv3/lib64/python3.9/site-packages/scrapli/driver/base/sync_driver.py", line 88, in open
    self.channel.channel_authenticate_ssh(
  File "/root/venv3/lib64/python3.9/site-packages/scrapli/decorators.py", line 216, in decorate
    return _multiprocessing_timeout(
  File "/root/venv3/lib64/python3.9/site-packages/scrapli/decorators.py", line 113, in _multiprocessing_timeout
    return future.result()
  File "/usr/lib64/python3.9/concurrent/futures/_base.py", line 439, in result
    return self.__get_result()
  File "/usr/lib64/python3.9/concurrent/futures/_base.py", line 391, in __get_result
    raise self._exception
  File "/usr/lib64/python3.9/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/root/venv3/lib64/python3.9/site-packages/scrapli/channel/sync_channel.py", line 287, in channel_authenticate_ssh
    buf = self.read()
  File "/root/venv3/lib64/python3.9/site-packages/scrapli/channel/sync_channel.py", line 69, in read
    buf = self.transport.read()
  File "/root/venv3/lib64/python3.9/site-packages/scrapli/decorators.py", line 216, in decorate
    return _multiprocessing_timeout(
  File "/root/venv3/lib64/python3.9/site-packages/scrapli/decorators.py", line 113, in _multiprocessing_timeout
    return future.result()
  File "/usr/lib64/python3.9/concurrent/futures/_base.py", line 439, in result
    return self.__get_result()
  File "/usr/lib64/python3.9/concurrent/futures/_base.py", line 391, in __get_result
    raise self._exception
  File "/usr/lib64/python3.9/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/root/venv3/lib64/python3.9/site-packages/scrapli/transport/plugins/system/transport.py", line 165, in read
    raise ScrapliConnectionError(msg) from exc
scrapli.exceptions.ScrapliConnectionError: encountered EOF reading from transport; typically means the device closed the connection

2022-12-02 19:08:01,595 -  nornir.core -     INFO -        run() - Running task 'send_configs' with args {'configs': ['interface loop99', 'description Nornir loopback']} on 5 hosts
2022-12-02 19:08:01,966 -  nornir.core -     INFO -        run() - Running task 'send_command' with args {'command': 'wr mem'} on 5 hosts
2022-12-02 19:08:10,564 -  nornir.core -     INFO -        run() - Running task 'load_data' with args {} on 2 hosts
2022-12-02 19:45:02,893 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh int switchport'} on 5 hosts
2022-12-02 19:45:03,034 - nornir.core.task -    ERROR -      start() - Host 'SW7': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/root/venv3/lib64/python3.9/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/root/venv3/lib64/python3.9/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/root/venv3/lib64/python3.9/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/root/venv3/lib64/python3.9/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/root/venv3/lib64/python3.9/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/root/venv3/lib64/python3.9/site-packages/netmiko/ssh_dispatcher.py", line 354, in ConnectHandler
    device_type = kwargs["device_type"]
KeyError: 'device_type'

2022-12-02 19:52:14,235 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh int switchport'} on 4 hosts
2022-12-02 19:54:52,912 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh int switchport', 'use_textfsm': True} on 4 hosts
2022-12-02 20:00:57,192 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh int switchport', 'use_textfsm': True} on 4 hosts
2022-12-02 20:11:49,381 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh int switchport', 'use_textfsm': True} on 4 hosts
2022-12-02 20:25:10,306 -  nornir.core -     INFO -        run() - Running task 'host_parm' with args {} on 4 hosts
2022-12-02 20:40:21,990 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int bri', 'use_textfsm': True} on 4 hosts
2022-12-02 20:47:24,152 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int bri', 'use_textfsm': True} on 4 hosts
2022-12-02 20:47:57,398 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int bri', 'use_textfsm': True} on 4 hosts
2022-12-02 20:49:41,291 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int bri', 'use_textfsm': True} on 4 hosts
2022-12-02 20:52:42,978 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int bri', 'use_textfsm': True} on 4 hosts
2022-12-02 21:02:07,786 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int bri', 'use_textfsm': True} on 4 hosts
2022-12-02 21:04:13,560 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int bri', 'use_textfsm': True} on 4 hosts
2022-12-02 21:05:51,566 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int bri', 'use_textfsm': True} on 4 hosts
2022-12-02 21:07:23,086 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int bri', 'use_textfsm': True} on 4 hosts
2022-12-02 21:08:23,850 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int bri', 'use_textfsm': True} on 4 hosts
2022-12-02 21:11:22,217 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int bri', 'use_textfsm': True} on 4 hosts
2022-12-02 21:12:01,457 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int bri', 'use_textfsm': True} on 4 hosts
